
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <h1 class="text-3xl font-bold text-light-text dark:text-dark-text mb-6">Your Orders</h1>

  <div class="bg-light-card dark:bg-dark-card rounded-xl shadow-lg p-6">
    <div class="mb-6 flex space-x-2 overflow-x-auto pb-2">
      @for (filter of ['All', 'Pending', 'Processing', 'Shipped', 'Delivered', 'Cancelled']; track filter) {
        <button 
          (click)="setFilter(filter)"
          class="px-4 py-2 rounded-full text-sm font-semibold transition-colors"
          [class]="activeFilter() === filter ? 'bg-primary-light text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'">
            {{ filter }}
        </button>
      }
    </div>
    
    <div class="space-y-6">
      @for (order of filteredOrders(); track order.id) {
        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
          <div class="flex flex-wrap justify-between items-center gap-4 mb-4 pb-4 border-b dark:border-gray-700">
            <div>
              <p class="font-bold text-lg text-light-text dark:text-dark-text">{{ order.id }}</p>
              <p class="text-sm text-gray-500 dark:text-gray-400">Placed on {{ order.orderDate }}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500 dark:text-gray-400">Total</p>
              <p class="font-bold text-lg text-light-text dark:text-dark-text">₹{{ order.totalAmount }}</p>
            </div>
            <span [class]="'px-3 py-1 text-sm font-medium rounded-full ' + getStatusClass(order.status)">
              {{ order.status }}
            </span>
          </div>

          <div class="space-y-4">
             @for (item of order.items; track item.productId) {
              <div class="flex items-center space-x-4">
                <img [src]="item.image" [alt]="item.productName" class="w-16 h-16 rounded-md object-cover">
                <div class="flex-1">
                  <p class="font-semibold text-light-text dark:text-dark-text">{{ item.productName }}</p>
                  <p class="text-sm text-gray-500 dark:text-gray-400">Qty: {{ item.quantity }}</p>
                </div>
                <p class="font-semibold">₹{{ item.price }}</p>
              </div>
             }
          </div>
        </div>
      } @empty {
        <div class="text-center py-12">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300">No Orders Found</h2>
            <p class="text-gray-500 mt-2">You haven't placed any orders in this category yet.</p>
        </div>
      }
    </div>
  </div>
</div>
